# «Применение принципов IaaC в работе с виртуальными машинами» - Дрибноход Давид

## Задача 1

- Опишите основные преимущества применения на практике IaaC-паттернов.
- Какой из принципов IaaC является основополагающим?

Ответ:

Infrastructure as a Code (IaaC) - подход в описании и конфигурировании инфраструктуры, когда компоненты инфраструктуры описываются при помощи кода.

Такой подход дает следующие преимущества:
* Скорость развертывания инфраструктуры - автоматизация и возможность использовать один и тот же код множество раз существенно сокращают временные затраты как на создание конфигураций, так и на их развертывание.
* Возможность повторного использования - можно повторно использовать часть текущей конфигурации инфраструктуры в своих будущих проектах.
* Идемпотентность - повторное выполнение кода развертывания инфраструктуры даст тот же результат, что и в предыдущие разы.  
* Модификация - изменение инфраструктуры требует меньше времени.
* Контроль версий - код инфраструктуры можно хранить в системах контроля версий, например, в Git.
* Безопасность и уменьшение рисков - снижение рисков человеческой ошибки благодаря автоматизации, а также возможность статического и динамического тестирования на безопасность отдельных компонент перед тем, как они попадут на продакшен окружение.

Основополагающим принципом для IaaC является обеспечение идемпотентности кода, а также создание этого кода аналогично процессу создания программного обеспечения.
Использование некоторых IaaC инструментов потребует знание языков программирования, например, Ruby.

## Задача 2

- Чем Ansible выгодно отличается от других систем управление конфигурациями?
- Какой, на ваш взгляд, метод работы систем конфигурации более надёжный — push или pull?

Ответ:

Ansible – инструмент для управления конфигурациями, с помощью которого настраивают удаленные машины. Самое важное его отличие от других подобных систем – использование существующей инфраструктуры и возможность подключения по протоколу SSH.
От остальных инструментов управления конфигурациями Ansible отличается тем, что нет необходимости устанавливать на управляемые узлы дополнительное программное обеспечение в виде агентов.

В случае если потребуется использовать отдельные модули самого Ansible, то их можно установить из официального репозитория.
Также работать с Ansible можно научиться за довольно короткое время, вся техническая документация написана в доступном для понимания виде и будет понятна даже начинающим пользователям.
Команды Ansible пишутся на YAML, популярном и интуитивно понятном языке, а сам Ansible написан на языке Python, который сам по себе является довольно простым для изучения. В случае если пользователь Ansible знает Python, то он может писать свои собственные модули. 

Помоему наиболее надежный метод работы системы конфигурации это push режим, то есть режим работы без использования агентов, когда сервер Ansible самостоятельно подключается к конечным хостам и разворачивает либо вносит в них изменения. Минус использования pull режима, вижу, в том, что есть необходимость использования агентов, что является дополнительной точкой отказа при разворачивании какой-либо среды или виртуальной машины. 

## Задача 3

Установите на личный linux-компьютер(или учебную ВМ с linux):

- [VirtualBox](https://www.virtualbox.org/),
- [Vagrant](https://github.com/netology-code/devops-materials), рекомендуем версию 2.3.4(старшие версии могут возникать проблемы интеграции с ansible)
- [Terraform](https://github.com/netology-code/devops-materials/blob/master/README.md)  версии 1.5.Х (1.6.х может вызывать проблемы с яндекс-облаком),
- Ansible.

*Приложите вывод команд установленных версий каждой из программ, оформленный в Markdown.*

Ответ:

```
dribnokhod@Debian:~$ vboxmanage --version
7.0.6r155176
```
```
dribnokhod@Debian:~$ vagrant -v
Vagrant 2.3.6
```
```
dribnokhod@Debian:~$ terraform -v
Terraform v1.5.7
on linux_amd64
```
```
dribnokhod@Debian:~$ ansible --version
ansible [core 2.14.3]
  config file = None
  configured module search path = ['/home/dribnokhod/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3/dist-packages/ansible
  ansible collection location = /home/dribnokhod/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/bin/ansible
  python version = 3.11.2 (main, Mar 13 2023, 12:18:29) [GCC 12.2.0] (/usr/bin/python3)
  jinja version = 3.1.2
  libyaml = True
```

## Задача 4 

Воспроизведите практическую часть лекции самостоятельно.

- Создайте виртуальную машину.
- Зайдите внутрь ВМ, убедитесь, что Docker установлен с помощью команды
```
docker ps,
```
Vagrantfile из лекции и код ansible находятся в [папке](https://github.com/netology-code/virt-homeworks/tree/virt-11/05-virt-02-iaac/src).

Примечание. Если Vagrant выдаёт ошибку:
```
URL: ["https://vagrantcloud.com/bento/ubuntu-20.04"]     
Error: The requested URL returned error: 404:
```

выполните следующие действия:

1. Скачайте с [сайта](https://app.vagrantup.com/bento/boxes/ubuntu-20.04) файл-образ "bento/ubuntu-20.04".
2. Добавьте его в список образов Vagrant: "vagrant box add bento/ubuntu-20.04 <путь к файлу>".

Важно!: Если ваша хостовая рабочая станция - это windows ОС, то у вас могут возникнуть проблемы со вложенной виртуализацией.  [способы решения](https://www.comss.ru/page.php?id=7726)  . Если вы устанавливали hyper-v или docker desktop то  все равно может возникать ошибка: Stderr: VBoxManage: error: AMD-V VT-X is not available (VERR_SVM_NO_SVM) . Попробуйте в этом случае выполнить в windows от администратора команду: "bcdedit /set hypervisorlaunchtype off" и перезагрузиться

***Приложите скриншоты в качестве решения на эту задачу. Допускается неполное выполнение данного задания если не сможете совладать с Windows.*** 

Ответ:

![image](https://github.com/DrDavidN/05-virt-02-iaac-hw/assets/128225763/1014cfcb-a53b-4d23-835a-9379fb7c17b5)
![image](https://github.com/DrDavidN/05-virt-02-iaac-hw/assets/128225763/d75b1f51-623e-4d40-bd62-1006f72ffb09)


